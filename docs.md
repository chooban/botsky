<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# botsky

```go
import "github.com/davhofer/botsky/pkg/botsky"
```

## Index

- [Constants](<#constants>)
- [func GetCLICredentials\(\) \(string, string, error\)](<#GetCLICredentials>)
- [func GetEnvCredentials\(\) \(string, string, error\)](<#GetEnvCredentials>)
- [func Sleep\(seconds int\)](<#Sleep>)
- [func WaitUntilCancel\(\)](<#WaitUntilCancel>)
- [type Client](<#Client>)
  - [func NewClient\(ctx context.Context, handle string, appkey string\) \(\*Client, error\)](<#NewClient>)
  - [func \(c \*Client\) Authenticate\(ctx context.Context\) error](<#Client.Authenticate>)
  - [func \(c \*Client\) ChatConvoGetMessages\(ctx context.Context, convoId string, limit int\) \(\[\]\*chat.ConvoDefs\_MessageView, error\)](<#Client.ChatConvoGetMessages>)
  - [func \(c \*Client\) ChatConvoGetUnreadMessageCount\(ctx context.Context, convoId string\) \(int64, error\)](<#Client.ChatConvoGetUnreadMessageCount>)
  - [func \(c \*Client\) ChatConvoSendMessage\(ctx context.Context, convoId string, message string\) \(string, string, error\)](<#Client.ChatConvoSendMessage>)
  - [func \(c \*Client\) ChatConvoUpdateRead\(ctx context.Context, convoId string, messageId \*string\) error](<#Client.ChatConvoUpdateRead>)
  - [func \(c \*Client\) ChatGetConvo\(ctx context.Context, convoId string\) \(\*chat.ConvoDefs\_ConvoView, error\)](<#Client.ChatGetConvo>)
  - [func \(c \*Client\) ChatGetConvoForMembers\(ctx context.Context, handlesOrDids \[\]string\) \(\*chat.ConvoDefs\_ConvoView, error\)](<#Client.ChatGetConvoForMembers>)
  - [func \(c \*Client\) ChatGetRecentLogs\(ctx context.Context\) \(\[\]\*chat.ConvoGetLog\_Output\_Logs\_Elem, error\)](<#Client.ChatGetRecentLogs>)
  - [func \(c \*Client\) ChatListConvos\(ctx context.Context\) \(\[\]\*chat.ConvoDefs\_ConvoView, error\)](<#Client.ChatListConvos>)
  - [func \(c \*Client\) ChatSendGroupMessage\(ctx context.Context, handlesOrDids \[\]string, message string\) \(string, string, error\)](<#Client.ChatSendGroupMessage>)
  - [func \(c \*Client\) ChatSendMessage\(ctx context.Context, handleOrDid string, message string\) \(string, string, error\)](<#Client.ChatSendMessage>)
  - [func \(c \*Client\) ChatUpdateActorAccess\(ctx context.Context, handleOrDid string, allowAccess bool\) error](<#Client.ChatUpdateActorAccess>)
  - [func \(c \*Client\) GetPost\(ctx context.Context, postUri string\) \(RichPost, error\)](<#Client.GetPost>)
  - [func \(c \*Client\) GetPostViews\(ctx context.Context, handleOrDid string, limit int\) \(\[\]\*bsky.FeedDefs\_PostView, error\)](<#Client.GetPostViews>)
  - [func \(c \*Client\) GetPosts\(ctx context.Context, handleOrDid string, limit int\) \(\[\]\*RichPost, error\)](<#Client.GetPosts>)
  - [func \(c \*Client\) NotifGetNotifications\(ctx context.Context, limit int64\) \(\[\]\*bsky.NotificationListNotifications\_Notification, error\)](<#Client.NotifGetNotifications>)
  - [func \(c \*Client\) NotifGetUnreadCount\(ctx context.Context\) \(int64, error\)](<#Client.NotifGetUnreadCount>)
  - [func \(c \*Client\) NotifUpdateSeen\(ctx context.Context\) error](<#Client.NotifUpdateSeen>)
  - [func \(c \*Client\) Post\(ctx context.Context, pb \*PostBuilder\) \(string, string, error\)](<#Client.Post>)
  - [func \(c \*Client\) RefreshSession\(ctx context.Context, timer \*time.Timer\)](<#Client.RefreshSession>)
  - [func \(c \*Client\) RepoCreatePostRecord\(ctx context.Context, post bsky.FeedPost\) \(string, string, error\)](<#Client.RepoCreatePostRecord>)
  - [func \(c \*Client\) RepoDeleteAllPosts\(ctx context.Context\) error](<#Client.RepoDeleteAllPosts>)
  - [func \(c \*Client\) RepoDeletePost\(ctx context.Context, postUri string\) error](<#Client.RepoDeletePost>)
  - [func \(c \*Client\) RepoGetCollections\(ctx context.Context, handleOrDid string\) \(\[\]string, error\)](<#Client.RepoGetCollections>)
  - [func \(c \*Client\) RepoGetPostAndCid\(ctx context.Context, postUri string\) \(bsky.FeedPost, string, error\)](<#Client.RepoGetPostAndCid>)
  - [func \(c \*Client\) RepoGetRecordAsType\(ctx context.Context, recordUri string, resultPointer cborUnmarshaler\) error](<#Client.RepoGetRecordAsType>)
  - [func \(c \*Client\) RepoGetRecordUris\(ctx context.Context, handleOrDid string, collection string, limit int\) \(\[\]string, error\)](<#Client.RepoGetRecordUris>)
  - [func \(c \*Client\) RepoGetRecords\(ctx context.Context, handleOrDid string, collection string, limit int\) \(\[\]\*atproto.RepoListRecords\_Record, error\)](<#Client.RepoGetRecords>)
  - [func \(c \*Client\) RepoUploadImage\(ctx context.Context, image imageSourceParsed\) \(\*lexutil.LexBlob, error\)](<#Client.RepoUploadImage>)
  - [func \(c \*Client\) RepoUploadImages\(ctx context.Context, images \[\]imageSourceParsed\) \(\[\]lexutil.LexBlob, error\)](<#Client.RepoUploadImages>)
  - [func \(c \*Client\) Repost\(ctx context.Context, postUri string\) \(string, string, error\)](<#Client.Repost>)
  - [func \(c \*Client\) ResolveHandle\(ctx context.Context, handle string\) \(string, error\)](<#Client.ResolveHandle>)
  - [func \(c \*Client\) UpdateAuth\(ctx context.Context, accessJwt string, refreshJwt string, handle string, did string\) error](<#Client.UpdateAuth>)
  - [func \(c \*Client\) UpdateProfileDescription\(ctx context.Context, description string\) error](<#Client.UpdateProfileDescription>)
- [type ImageSource](<#ImageSource>)
- [type InlineLink](<#InlineLink>)
- [type PostBuilder](<#PostBuilder>)
  - [func NewPostBuilder\(text string\) \*PostBuilder](<#NewPostBuilder>)
  - [func \(pb \*PostBuilder\) AddEmbedLink\(link string\) \*PostBuilder](<#PostBuilder.AddEmbedLink>)
  - [func \(pb \*PostBuilder\) AddImages\(images \[\]ImageSource\) \*PostBuilder](<#PostBuilder.AddImages>)
  - [func \(pb \*PostBuilder\) AddInlineLinks\(links \[\]InlineLink\) \*PostBuilder](<#PostBuilder.AddInlineLinks>)
  - [func \(pb \*PostBuilder\) AddLanguage\(language string\) \*PostBuilder](<#PostBuilder.AddLanguage>)
  - [func \(pb \*PostBuilder\) AddQuotedPost\(postUri string\) \*PostBuilder](<#PostBuilder.AddQuotedPost>)
  - [func \(pb \*PostBuilder\) AddTags\(tags \[\]string\) \*PostBuilder](<#PostBuilder.AddTags>)
  - [func \(pb \*PostBuilder\) ReplyTo\(postUri string\) \*PostBuilder](<#PostBuilder.ReplyTo>)
- [type RichPost](<#RichPost>)


## Constants

<a name="ApiChat"></a>

```go
const ApiChat = "https://api.bsky.chat"
```

<a name="ApiEntryway"></a>

```go
const ApiEntryway = "https://bsky.social"
```

<a name="ApiPublic"></a>

```go
const ApiPublic = "https://public.api.bsky.app"
```

<a name="GetCLICredentials"></a>
## func GetCLICredentials

```go
func GetCLICredentials() (string, string, error)
```

Enter the credentials via CLI prompt.

<a name="GetEnvCredentials"></a>
## func GetEnvCredentials

```go
func GetEnvCredentials() (string, string, error)
```

Get the credentials from environment variables.

Handle: BOTSKY\_HANDLE Appkey/password: BOTSKY\_APPKEY

<a name="Sleep"></a>
## func Sleep

```go
func Sleep(seconds int)
```

Convenience function to sleep for a number of seconds.

<a name="WaitUntilCancel"></a>
## func WaitUntilCancel

```go
func WaitUntilCancel()
```

Block until the user sends an interrupt \(Ctrl\+C\). Useful when running a listener and no other foreground process.

<a name="Client"></a>
## type Client

API Client

Wraps an XRPC client for API calls and a second one for handling chat/DMs

```go
type Client struct {
    Handle string
    Did    string
    // contains filtered or unexported fields
}
```

<a name="NewClient"></a>
### func NewClient

```go
func NewClient(ctx context.Context, handle string, appkey string) (*Client, error)
```

Sets up a new client \(not yet authenticated\)

<a name="Client.Authenticate"></a>
### func \(\*Client\) Authenticate

```go
func (c *Client) Authenticate(ctx context.Context) error
```

Authenticates the client with the given credentials and updates its auth info.

A background goroutine to automatically refresh the session is started through client.UpdateAuth

<a name="Client.ChatConvoGetMessages"></a>
### func \(\*Client\) ChatConvoGetMessages

```go
func (c *Client) ChatConvoGetMessages(ctx context.Context, convoId string, limit int) ([]*chat.ConvoDefs_MessageView, error)
```

Get all messages in the given conversation.

<a name="Client.ChatConvoGetUnreadMessageCount"></a>
### func \(\*Client\) ChatConvoGetUnreadMessageCount

```go
func (c *Client) ChatConvoGetUnreadMessageCount(ctx context.Context, convoId string) (int64, error)
```

Get number of unread messages in the given conversation.

<a name="Client.ChatConvoSendMessage"></a>
### func \(\*Client\) ChatConvoSendMessage

```go
func (c *Client) ChatConvoSendMessage(ctx context.Context, convoId string, message string) (string, string, error)
```

Send a text message to the given conversation.

<a name="Client.ChatConvoUpdateRead"></a>
### func \(\*Client\) ChatConvoUpdateRead

```go
func (c *Client) ChatConvoUpdateRead(ctx context.Context, convoId string, messageId *string) error
```

Set the message to "read" in the given conversation. Set pointer to nil in order to set the status of all messages in the conversation.

<a name="Client.ChatGetConvo"></a>
### func \(\*Client\) ChatGetConvo

```go
func (c *Client) ChatGetConvo(ctx context.Context, convoId string) (*chat.ConvoDefs_ConvoView, error)
```

Get the conversation by id.

<a name="Client.ChatGetConvoForMembers"></a>
### func \(\*Client\) ChatGetConvoForMembers

```go
func (c *Client) ChatGetConvoForMembers(ctx context.Context, handlesOrDids []string) (*chat.ConvoDefs_ConvoView, error)
```

Get the conversation including exactly the provided accounts, or create a new one if it doesn't exist.

<a name="Client.ChatGetRecentLogs"></a>
### func \(\*Client\) ChatGetRecentLogs

```go
func (c *Client) ChatGetRecentLogs(ctx context.Context) ([]*chat.ConvoGetLog_Output_Logs_Elem, error)
```

Get all chat logs since the last cursor update \(maintained internally\).

<a name="Client.ChatListConvos"></a>
### func \(\*Client\) ChatListConvos

```go
func (c *Client) ChatListConvos(ctx context.Context) ([]*chat.ConvoDefs_ConvoView, error)
```

List all conversations.

<a name="Client.ChatSendGroupMessage"></a>
### func \(\*Client\) ChatSendGroupMessage

```go
func (c *Client) ChatSendGroupMessage(ctx context.Context, handlesOrDids []string, message string) (string, string, error)
```

Send a group message to the given list of accounts. Uses the existing group chat with these accounts if it exists, or creates a new one if it doesn't.

<a name="Client.ChatSendMessage"></a>
### func \(\*Client\) ChatSendMessage

```go
func (c *Client) ChatSendMessage(ctx context.Context, handleOrDid string, message string) (string, string, error)
```

Send a message to the given account. Uses the existing chat with that account if it exists, or creates a new one if it doesn't.

<a name="Client.ChatUpdateActorAccess"></a>
### func \(\*Client\) ChatUpdateActorAccess

```go
func (c *Client) ChatUpdateActorAccess(ctx context.Context, handleOrDid string, allowAccess bool) error
```

Update for the given account whether it can initiate DMs or not.

<a name="Client.GetPost"></a>
### func \(\*Client\) GetPost

```go
func (c *Client) GetPost(ctx context.Context, postUri string) (RichPost, error)
```

Get a single post by uri.

<a name="Client.GetPostViews"></a>
### func \(\*Client\) GetPostViews

```go
func (c *Client) GetPostViews(ctx context.Context, handleOrDid string, limit int) ([]*bsky.FeedDefs_PostView, error)
```

Load Bluesky AppView postViews for the given repo/user.

Set limit = \-1 in order to get all postViews.

<a name="Client.GetPosts"></a>
### func \(\*Client\) GetPosts

```go
func (c *Client) GetPosts(ctx context.Context, handleOrDid string, limit int) ([]*RichPost, error)
```

Load enriched posts for repo/user.

Set limit = \-1 in order to get all posts.

<a name="Client.NotifGetNotifications"></a>
### func \(\*Client\) NotifGetNotifications

```go
func (c *Client) NotifGetNotifications(ctx context.Context, limit int64) ([]*bsky.NotificationListNotifications_Notification, error)
```

Get the most recent notifications \(doesn't include DMs\!\).

Currently cannot get more than 100 notifications at once.

<a name="Client.NotifGetUnreadCount"></a>
### func \(\*Client\) NotifGetUnreadCount

```go
func (c *Client) NotifGetUnreadCount(ctx context.Context) (int64, error)
```

Get the number of unread notifications.

<a name="Client.NotifUpdateSeen"></a>
### func \(\*Client\) NotifUpdateSeen

```go
func (c *Client) NotifUpdateSeen(ctx context.Context) error
```

Update all unseen notifications to seen.

<a name="Client.Post"></a>
### func \(\*Client\) Post

```go
func (c *Client) Post(ctx context.Context, pb *PostBuilder) (string, string, error)
```

Build and post to Bluesky.

Returns the CID and Uri of the created record.

<a name="Client.RefreshSession"></a>
### func \(\*Client\) RefreshSession

```go
func (c *Client) RefreshSession(ctx context.Context, timer *time.Timer)
```

Refreshes the client's session once the timer expires

<a name="Client.RepoCreatePostRecord"></a>
### func \(\*Client\) RepoCreatePostRecord

```go
func (c *Client) RepoCreatePostRecord(ctx context.Context, post bsky.FeedPost) (string, string, error)
```

Create new post FeedPost record in the given repo.

This function has been modified from its original version. Original source: https://github.com/danrusei/gobot-bsky/blob/main/gobot.go License: Apache 2.0 Post to social app

<a name="Client.RepoDeleteAllPosts"></a>
### func \(\*Client\) RepoDeleteAllPosts

```go
func (c *Client) RepoDeleteAllPosts(ctx context.Context) error
```

Delete all posts in the bots repository.

<a name="Client.RepoDeletePost"></a>
### func \(\*Client\) RepoDeletePost

```go
func (c *Client) RepoDeletePost(ctx context.Context, postUri string) error
```

Delete the bots post with the given uri.

<a name="Client.RepoGetCollections"></a>
### func \(\*Client\) RepoGetCollections

```go
func (c *Client) RepoGetCollections(ctx context.Context, handleOrDid string) ([]string, error)
```

Get all collections available on the repo.

<a name="Client.RepoGetPostAndCid"></a>
### func \(\*Client\) RepoGetPostAndCid

```go
func (c *Client) RepoGetPostAndCid(ctx context.Context, postUri string) (bsky.FeedPost, string, error)
```

Get the FeedPost struct and the post CID given its Uri.

<a name="Client.RepoGetRecordAsType"></a>
### func \(\*Client\) RepoGetRecordAsType

```go
func (c *Client) RepoGetRecordAsType(ctx context.Context, recordUri string, resultPointer cborUnmarshaler) error
```

Get the record at the specified uri and decode as the given result type \(type of \*resultPointer\). Result is stored in the object referenced by resultPointer.

E.g. var post bsky.FeedPost; RepoGetRecordAsType\(ctx, postUri, &feedPost\)

<a name="Client.RepoGetRecordUris"></a>
### func \(\*Client\) RepoGetRecordUris

```go
func (c *Client) RepoGetRecordUris(ctx context.Context, handleOrDid string, collection string, limit int) ([]string, error)
```

Get record uris from the repo in the given collection.

Set limit = \-1 in order to get all records.

<a name="Client.RepoGetRecords"></a>
### func \(\*Client\) RepoGetRecords

```go
func (c *Client) RepoGetRecords(ctx context.Context, handleOrDid string, collection string, limit int) ([]*atproto.RepoListRecords_Record, error)
```

Get all recors of the specified collection from the given repo.

<a name="Client.RepoUploadImage"></a>
### func \(\*Client\) RepoUploadImage

```go
func (c *Client) RepoUploadImage(ctx context.Context, image imageSourceParsed) (*lexutil.LexBlob, error)
```

Upload a single image to the repo.

This function has been modified from its original version. Original source: https://github.com/danrusei/gobot-bsky/blob/main/gobot.go License: Apache 2.0

<a name="Client.RepoUploadImages"></a>
### func \(\*Client\) RepoUploadImages

```go
func (c *Client) RepoUploadImages(ctx context.Context, images []imageSourceParsed) ([]lexutil.LexBlob, error)
```

Upload the provided images to the repo.

This function has been modified from its original version. Original source: https://github.com/danrusei/gobot-bsky/blob/main/gobot.go License: Apache 2.0

<a name="Client.Repost"></a>
### func \(\*Client\) Repost

```go
func (c *Client) Repost(ctx context.Context, postUri string) (string, string, error)
```

Create a repost of the given post.

<a name="Client.ResolveHandle"></a>
### func \(\*Client\) ResolveHandle

```go
func (c *Client) ResolveHandle(ctx context.Context, handle string) (string, error)
```

Resolve the given handle to a DID

If called on a DID, simply returns it

<a name="Client.UpdateAuth"></a>
### func \(\*Client\) UpdateAuth

```go
func (c *Client) UpdateAuth(ctx context.Context, accessJwt string, refreshJwt string, handle string, did string) error
```

Update the clients auth info with the given JWTs, handle, and did.

This will also start a new goroutine to refresh the session before this one expires

<a name="Client.UpdateProfileDescription"></a>
### func \(\*Client\) UpdateProfileDescription

```go
func (c *Client) UpdateProfileDescription(ctx context.Context, description string) error
```

Update the users profile description with the given string. All other profile components \(avatar, banner, etc.\) stay the same.

<a name="ImageSource"></a>
## type ImageSource

Represents an image with alt text and its location \(web url or local path\)

```go
type ImageSource struct {
    Alt string
    Uri string
}
```

<a name="InlineLink"></a>
## type InlineLink

Represents a hyperlink and the corresponding display text.

```go
type InlineLink struct {
    Text string // a substring of the post text which will be clickable as a link
    Url  string // the link url
}
```

<a name="PostBuilder"></a>
## type PostBuilder

The PostBuilder is used to prepare all post features in one place, before sending it through the client.

```go
type PostBuilder struct {
    Text           string
    AdditionalTags []string
    InlineLinks    []InlineLink
    Languages      []string
    ReplyUri       string
    EmbedLink      string
    EmbedImages    []ImageSource
    EmbedPostQuote string
}
```

<a name="NewPostBuilder"></a>
### func NewPostBuilder

```go
func NewPostBuilder(text string) *PostBuilder
```

Create a new post with text.

<a name="PostBuilder.AddEmbedLink"></a>
### func \(\*PostBuilder\) AddEmbedLink

```go
func (pb *PostBuilder) AddEmbedLink(link string) *PostBuilder
```

Add a link embed to the post. Will try to get a description and card graphic directly from the webpage.

<a name="PostBuilder.AddImages"></a>
### func \(\*PostBuilder\) AddImages

```go
func (pb *PostBuilder) AddImages(images []ImageSource) *PostBuilder
```

Add images to the post.

<a name="PostBuilder.AddInlineLinks"></a>
### func \(\*PostBuilder\) AddInlineLinks

```go
func (pb *PostBuilder) AddInlineLinks(links []InlineLink) *PostBuilder
```

Specify sections of the text that should link to a webpage and be clickable as links.

<a name="PostBuilder.AddLanguage"></a>
### func \(\*PostBuilder\) AddLanguage

```go
func (pb *PostBuilder) AddLanguage(language string) *PostBuilder
```

Add a new post language. Doesn't overwrite the old ones \(a post can have multiple languages\).

<a name="PostBuilder.AddQuotedPost"></a>
### func \(\*PostBuilder\) AddQuotedPost

```go
func (pb *PostBuilder) AddQuotedPost(postUri string) *PostBuilder
```

Embed a quoted post.

<a name="PostBuilder.AddTags"></a>
### func \(\*PostBuilder\) AddTags

```go
func (pb *PostBuilder) AddTags(tags []string) *PostBuilder
```

Add tags \(like hashtags, but not shown in text\) to the post.

<a name="PostBuilder.ReplyTo"></a>
### func \(\*PostBuilder\) ReplyTo

```go
func (pb *PostBuilder) ReplyTo(postUri string) *PostBuilder
```

Set the post being built \(PostBuilder\) as a reply to the provided post \(postUri\).

<a name="RichPost"></a>
## type RichPost

Enriched post struct, including both the repo's FeedPost as well as bluesky's PostView

```go
type RichPost struct {
    bsky.FeedPost

    AuthorDid   string // from *bsky.ActorDefs_ProfileViewBasic
    Cid         string
    Uri         string
    IndexedAt   string
    LikeCount   int64
    QuoteCount  int64
    ReplyCount  int64
    RepostCount int64
}
```

# listeners

```go
import "github.com/davhofer/botsky/pkg/listeners"
```

## Index

- [type Handler](<#Handler>)
- [type Listener](<#Listener>)
  - [func NewListener\[EventT any\]\(ctx context.Context, client \*botsky.Client, name string, pollEvents func\(context.Context, \*botsky.Client\) \(\[\]\*EventT, error\)\) \*Listener\[EventT\]](<#NewListener>)
  - [func \(l \*Listener\[EventT\]\) DeregisterHandler\(id string\) error](<#Listener[EventT].DeregisterHandler>)
  - [func \(l \*Listener\[EventT\]\) RegisterHandler\(id string, handler Handler\[EventT\]\) error](<#Listener[EventT].RegisterHandler>)
  - [func \(l \*Listener\[EventT\]\) SetPollingInterval\(seconds uint\)](<#Listener[EventT].SetPollingInterval>)
  - [func \(l \*Listener\[EventT\]\) Start\(\)](<#Listener[EventT].Start>)
  - [func \(l \*Listener\[EventT\]\) Stop\(\)](<#Listener[EventT].Stop>)
- [type PollingChatListener](<#PollingChatListener>)
  - [func NewPollingChatListener\(ctx context.Context, client \*botsky.Client\) \*PollingChatListener](<#NewPollingChatListener>)
- [type PollingNotificationListener](<#PollingNotificationListener>)
  - [func NewPollingNotificationListener\(ctx context.Context, client \*botsky.Client\) \*PollingNotificationListener](<#NewPollingNotificationListener>)


<a name="Handler"></a>
## type Handler

Generic event handler class for the listener.

```go
type Handler[EventT any] func(context.Context, *botsky.Client, []*EventT)
```

<a name="Listener"></a>
## type Listener

Generic event listener.

```go
type Listener[EventT any] struct {
    Name   string
    Client *botsky.Client

    Active   bool
    Handlers map[string]Handler[EventT]

    PollingInterval time.Duration
    // contains filtered or unexported fields
}
```

<a name="NewListener"></a>
### func NewListener

```go
func NewListener[EventT any](ctx context.Context, client *botsky.Client, name string, pollEvents func(context.Context, *botsky.Client) ([]*EventT, error)) *Listener[EventT]
```

Creates a new listener. The pollEvents argument is a function that gets called in order to fetch the newest set of events to be handled.

<a name="Listener[EventT].DeregisterHandler"></a>
### func \(\*Listener\[EventT\]\) DeregisterHandler

```go
func (l *Listener[EventT]) DeregisterHandler(id string) error
```

Deregister \(i.e. deactivate\) a registered event handler.

<a name="Listener[EventT].RegisterHandler"></a>
### func \(\*Listener\[EventT\]\) RegisterHandler

```go
func (l *Listener[EventT]) RegisterHandler(id string, handler Handler[EventT]) error
```

Try to register a new event handler. The id must be unique.

Every registered event handler gets called on the full list of polled events.

<a name="Listener[EventT].SetPollingInterval"></a>
### func \(\*Listener\[EventT\]\) SetPollingInterval

```go
func (l *Listener[EventT]) SetPollingInterval(seconds uint)
```

Set how frequently the listener polls for new events.

<a name="Listener[EventT].Start"></a>
### func \(\*Listener\[EventT\]\) Start

```go
func (l *Listener[EventT]) Start()
```

Start listening \(polling\) in the background. This starts a new go routine.

<a name="Listener[EventT].Stop"></a>
### func \(\*Listener\[EventT\]\) Stop

```go
func (l *Listener[EventT]) Stop()
```

Stop listening.

<a name="PollingChatListener"></a>
## type PollingChatListener

Instantiation of a Listener for handling chat logs/events.

```go
type PollingChatListener struct {
    // contains filtered or unexported fields
}
```

<a name="NewPollingChatListener"></a>
### func NewPollingChatListener

```go
func NewPollingChatListener(ctx context.Context, client *botsky.Client) *PollingChatListener
```

Returns an set up PollingChatListener.

<a name="PollingNotificationListener"></a>
## type PollingNotificationListener

Instantiation of the \(polling\) listenerBase for handling notifications.

```go
type PollingNotificationListener struct {
    // contains filtered or unexported fields
}
```

<a name="NewPollingNotificationListener"></a>
### func NewPollingNotificationListener

```go
func NewPollingNotificationListener(ctx context.Context, client *botsky.Client) *PollingNotificationListener
```

Returns an set up PollingNotificationListener.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
